---
import Layout from '~/layouts/MailPaceVersus.astro';
import Headline from '~/components/widgets/features/Headline.astro';
import TestimonialList from '~/components/common/TestimonialList.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import TimeToInbox from '~/components/widgets/TimeToInbox.astro';
import CodeTabs from '~/components/widgets/CodeTabs.astro';
import Documentation from '~/components/widgets/features/Documentation.astro';
import Button from '~/components/ui/Button.astro';

const metadata = {
  title: 'MailPace - Transactional Email with support for Idempotency',
  description:
    "Send emails reliably with MailPace's idempotent email API. Ensure your emails are sent exactly once, even if your application retries.",
  canonical: 'https://mailpace.com/features/idempotent-email-api',
  structuredData: {
    '@context': 'https://schema.org',
    '@type': 'WebPage',
    name: 'MailPace - Transactional Email with support for Idempotency',
    description:
      "Send emails with confidence using MailPace's idempotent email API. Ensure your emails are sent only once, even with multiple retries.",
    mainEntity: {
      '@type': 'SoftwareApplication',
      name: 'MailPace',
      applicationCategory: 'EmailService',
      offers: {
        '@type': 'Offer',
        category: 'Transactional Email Service',
      },
      featureList: 'Idempotent Email API',
      description:
        'MailPace is a transactional email provider that supports idempotency out of the box, ensuring emails are sent only once.',
    },
    publisher: {
      '@type': 'Organization',
      name: 'MailPace',
      url: 'https://mailpace.com',
    },
  },
};
---

<Layout metadata={metadata}>
  <Headline feature="Idempotency" subtitle="Ensure your emails are sent only once with our idempotent email API" />

  <!-- Rest of the page content remains unchanged -->

  <div class="lg:py-4 max-w-3xl mx-auto mt-4 mb-8 px-4 sm:px-6 text-xl text-muted dark:text-slate-400 text-center">
    <p class="mb-2">
      MailPace is one of the only transactional email providers that supports idempotency out of the box. This means
      that you can ensure that your emails are sent only once, even if your application retries sending the email
      multiple times.
    </p>

    <p class="mt-8 mb-12">
      To use this feature, simply set an Idempotency-Key header in your API request, and we'll take care of the rest.
    </p>

    <div class="flex justify-center">
      <Button variant="primary" href="https://docs.mailpace.com/guide/idempotency" target="_blank" class="mt-4"
        >Learn more about idempotent requests
      </Button>
    </div>
  </div>

  <CodeTabs />

  <Documentation />

  <TimeToInbox />

  <TestimonialList />

  <CallToAction
    title="Ready to send?"
    actions={[
      {
        variant: 'primary',
        text: 'Start Sending',
        href: 'https://app.mailpace.com/users/sign_up',
        target: '_blank',
        icon: 'tabler:bolt',
      },
    ]}
  />
</Layout>
